{% import "_includes/forms" as forms %}

{% set campaignTypes = craft.sproutEmail.getCampaignTypes() %}
{% if campaignTypes|length %}

    {% for campaignType in campaignTypes %}
        {% if loop.first %}

            <table id="campaigntypes" class="data fullwidth">
            <thead>
            <th width="25%">
                {{ "Campaign Type"|t('sprout-email') }}
                <span class="info">
    <p>{{ "Create multiple Campaign Types with unique fields, layouts, and email service provider integrations."|t('sprout-email') }}</p>
  </span>
            </th>
            <th width="20%">{{ "Handle"|t('sprout-email') }}</th>
            <th width="20%">{{ "Mailer"|t('sprout-email') }}</th>
            <th width="10%">{{ "Template"|t('sprout-email') }}</th>
            <th class="thin"></th>
            </thead>
        {% endif %}
        <tr data-id="{{ campaignType.id }}" data-name="{{ campaignType.name }}">
            <td>
                <a href="{{ url('sprout-email/settings/campaigntypes/edit/' ~ campaignType.id ) }}">{{ campaignType.name }}</a>
            </td>
            <td>
                <code>{{ campaignType.handle }}</code>
            </td>
            <td>
        <span class="info">
    <p style="word-break: break-all">{{ campaignType.mailer }}</p>
  </span>
            </td>
            <td><code>{{ campaignType.template }}</code></td>
            <td colspan="3" class="thin">
                <a class="delete icon"
                   title='{{ "Delete"|t(' sprout-email') }}'></a>
            </td>
        </tr>
        {% if loop.last %}
            </table>
        {% endif %}

    {% endfor %}

    <div class="buttons">
        <a class="btn submit add icon"
           href="{{ url('sprout-email/settings/campaigntypes/edit/new') }}">{{ "New
        Campaign"|t('sprout-email') }}</a>
    </div>

{% else %}

    <div>

        <h2>{{ "Create your first Campaign"|t('sprout-email') }}</h2>

        <p>{{ "Campaigns are a great way to leverage the power of Craft to manage
        your content and the benefits of a dedicated
        email program to manage your email."|t('sprout-email') }}</p>

        <div class="buttons">
            <a class="btn submit icon"
               href="{{ url('sprout-email/settings/campaigntypes/edit/new') }}">{{ "Create a
            Campaign"|t('sprout-email') }} &raquo;</a>
        </div>

    </div>
{% endif %}
{% js %}
    new Craft.AdminTable({
    tableSelector: '#campaigntypes',
    noObjectsSelector: '#nocampaigntypes',
    deleteAction: 'sprout-email/campaign-type/delete-campaign-type'
    });
{% endjs %}
